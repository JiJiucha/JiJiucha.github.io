(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{639:function(t,e,r){"use strict";r(19),r(159),r(30),r(49),r(33),r(42),r(7),r(57),r(22),r(58);var n=r(3),a=r(0),s=(r(15),r(120),r(86),r(38)),i=r(193);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=-1,l=0,p=1,d=2,f=3,m={data:function(){return{inputValue:"",status:l,error:"",checkFunction:null,isVisiblePassword:!1}},props:{inputType:{type:String,default:"text"},name:{type:String,default:null},type:{type:String,required:!0},styleClass:{type:String,default:""},waitMs:{type:Number,default:800},checkLength:{type:Number,default:1},checkApi:{type:Boolean,default:!0},description:{type:String,default:""},state:{type:Boolean,default:null},redirectBy204:{type:Boolean,default:!1},inputMode:{type:String,default:null},placeholder:{type:String,default:""},hideStatus:{type:Boolean,default:!1}},watch:{inputValue:function(t,e){t!==e&&(this.$emit("valid-value",""),t.length>=this.checkLength?this.onCheckValue():this.status=0===t.length?l:p)}},computed:{isEmailInput:function(){return"email"===this.type||"exists_email"===this.type||"email"===this.inputType},isPasswordInput:function(){return"password"===this.type},statusMessage:function(){switch(this.status){case c:return this.error;case d:return this.$i18n.t("inputComponent.validating");case f:return this.$i18n.t("inputComponent.available");case l:return"";case p:return this.$i18n.t("inputComponent.checkLength",{length:this.checkLength})}return""},statusClass:function(){switch(this.status){case l:return"is_none";case c:return"is_error";case d:return"is_checking";case f:return"is_can_use";case p:return"is_editing"}return"is_none"}},mounted:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick();case 2:t.onInitialize();case 3:case"end":return e.stop()}}),e)})))()},methods:o(o({clear:function(){var t=this;this.error="",this.inputValue="",this.status=l,this.checkFunction=Object(i.a)(Object(a.a)(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isEmailInput){e.next=6;break}if(!(((null===(r=t.$refs.otherInput)||void 0===r?void 0:r.validationMessage)||"").length>0)){e.next=6;break}return t.error=t.$i18n.t("inputComponent.invalidEmailFormat"),t.status=c,e.abrupt("return");case 6:return t.status=d,t.error="",e.prev=8,e.next=11,t._checkApi();case 11:t.status=f,t.$emit("valid-value",t.inputValue),e.next=29;break;case 15:if(e.prev=15,e.t0=e.catch(8),!t.redirectBy204||204!=e.t0.statusCode){e.next=21;break}return location.href=t.localePath({name:"mypage"}),e.abrupt("return");case 21:if(!(e.t0.statusCode>=500)){e.next=25;break}return t.status=c,t.error="System Error",e.abrupt("return");case 25:n=t.name||t.type,a=[],"errors"in e.t0&&(a="errors"in e.t0.errors?e.t0.errors.errors:e.t0.errors,t.error=n in a?a[n][0]:a),t.status=c;case 29:case"end":return e.stop()}}),e,null,[[8,15]])}))),this.waitMs)},onToggle:function(){var t,e,r=(null===(t=this.$el)||void 0===t?void 0:t.querySelector("input"))||{},n=r.selectionStart,a=r.selectionEnd;this.isVisiblePassword=!this.isVisiblePassword;var s=null===(e=this.$el)||void 0===e?void 0:e.querySelector("input");s&&setTimeout((function(){s.focus(),s.selectionStart=n||0,s.selectionEnd=a||0}),1)},onCheckValue:function(){this.checkApi&&this.checkFunction?this.checkFunction():(this.status=f,this.$emit("valid-value",this.inputValue))},onInitialize:function(){this.clear()}},Object(s.b)("account",["isEnabledCreatorName","isEnabledEmail","isEnabledPassword","isExistsEmail"])),{},{_checkApi:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="creator_name"===e.t0?3:"email"===e.t0?6:"password"===e.t0?10:"exists_email"===e.t0?13:17;break;case 3:return e.next=5,t.isEnabledCreatorName(t.inputValue);case 5:case 9:case 12:case 16:return e.abrupt("return",e.sent);case 6:return t.inputValue=t.inputValue.toLowerCase(),e.next=9,t.isEnabledEmail(t.inputValue);case 10:return e.next=12,t.isEnabledPassword(t.inputValue);case 13:return t.inputValue=t.inputValue.toLowerCase(),e.next=16,t.isExistsEmail(t.inputValue);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e)})))()},focus:function(){var t,e;null===(t=this.$el)||void 0===t||null===(e=t.querySelector("input"))||void 0===e||e.focus()}})},v=r(16),h=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tc_validation_input",class:[t.styleClass,t.statusClass]},[e("div",{staticClass:"tc_validation_input_main"},[e("div",{staticClass:"tc_validation_input_field"},[t.isPasswordInput?[t.isVisiblePassword?[e("div",{staticClass:"input-group pwBox"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],ref:"visiblePassword",attrs:{type:"text",name:t.name,state:t.state,inputmode:t.inputMode,placeholder:t.placeholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("span",{staticClass:"input-group-btn"},[e("button",{staticClass:"btn btn-default",attrs:{tabindex:"-1",type:"button"},on:{click:function(e){return e.preventDefault(),t.onToggle.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-eye-slash fa-fw"})])])])]:[e("div",{staticClass:"input-group pwBox"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],ref:"hiddenPassword",attrs:{type:"password",autocomplete:"new-password",name:t.name,state:t.state,inputmode:t.inputMode,placeholder:t.placeholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("span",{staticClass:"input-group-btn"},[e("button",{staticClass:"btn btn-default",attrs:{tabindex:"-1",type:"button"},on:{click:function(e){return e.preventDefault(),t.onToggle.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-eye fa-fw"})])])])]]:t._e(),t._v(" "),t.isPasswordInput?t._e():[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],ref:"otherInput",attrs:{type:t.inputType,name:t.name,state:t.state,inputmode:t.inputMode,placeholder:t.placeholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]],2),t._v(" "),t.hideStatus?t._e():e("div",{staticClass:"tc_validation_input_status"})]),t._v(" "),e("div",{staticClass:"tc_validation_input_description",domProps:{innerHTML:t._s(t.description)}}),t._v(" "),e("div",{staticClass:"tc_validation_input_message"},[e("span",[t._v(t._s(t.statusMessage))])])])}),[],!1,null,null,null);e.a=h.exports},641:function(t,e,r){"use strict";e.a={computed:{errorMessage:function(){var t=this;return function(e){var r=t.errors;return r&&e in r?Array.isArray(r[e])?r[e][0]:r[e]:null}},errorState:function(){var t=this;return function(e){var r=t.errors;return(!r||!(e in r))&&null}}}}},812:function(t,e,r){"use strict";r.r(e);r(33),r(30),r(42),r(7),r(57),r(22),r(58);var n=r(3),a=r(0),s=(r(15),r(38)),i=r(639);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c={name:"AuthPasswordResetToken",mixins:[r(641).a],inject:["loadComplete"],components:{ValidationInput:i.a},data:function(){return{isValid:!1,form:{password:null},loading:!1,errors:{}}},asyncData:function(t){return Object(a.a)(regeneratorRuntime.mark((function e(){var r,n,a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,n=t.query,a=t.store,s=t.redirect,i=t.localeRoute,e.prev=1,e.next=4,a.dispatch("account/checkResetPasswordToken",{token:r.token,id:parseInt(n.id)});case 4:return e.abrupt("return",{isValid:!0});case 7:if(e.prev=7,e.t0=e.catch(1),204!=e.t0.statusCode){e.next=12;break}return e.abrupt("return",s(i({name:"mypage"})));case 12:return e.abrupt("return",{isValid:!1});case 13:case"end":return e.stop()}}),e,null,[[1,7]])})))()},mounted:function(){this.loadComplete()},methods:o(o({},Object(s.b)("account",["resetPassword"])),{},{onSubmit:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$ladda.wrap(t.$refs.submitButton,Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.resetPassword({id:t.$route.query.id,token:t.$route.params.token,password:t.form.password});case 2:case"end":return e.stop()}}),e)}))),!1);case 4:return e.next=6,t.$swal({title:t.$i18n.t("password.successfullyUpdated"),icon:"success",timer:3e3,showConfirmButton:!1});case 6:location.href=t.localePath({name:"auth-login"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t.loading=!1,204==e.t0.statusCode?location.href=t.localePath({name:"mypage"}):422==e.t0.statusCode?t.errors=e.t0.errors:t.$errorHandler(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}})},l=r(16),p=Object(l.a)(c,(function(){var t,e=this,r=e._self._c;return r("div",{staticClass:"page-container"},[r("header",{staticClass:"page-header"},[r("i",{staticClass:"fa-solid fa-user"}),e._v("\n    "+e._s(e.$t("password.reset"))+"\n  ")]),e._v(" "),r("div",{staticClass:"panel"},[e.isValid?r("div",{staticClass:"password_re"},[r("p",[e._v(e._s(e.$t("password.NewPpasswordConfirm")))]),e._v(" "),r("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit.apply(null,arguments)}}},[r("fieldset",{attrs:{disabled:e.loading}},[r("label",[e._v("\n            "+e._s(e.$t("profile.updatedPassword"))+"\n            "),r("validation-input",{attrs:{type:"password",name:"password","redirect-by204":!0,state:e.errorState("password")},on:{"valid-value":function(t){return e.form.password=t}}})],1),e._v(" "),r("div",[e._v(e._s(e.errorMessage("password")))])]),e._v(" "),r("fieldset",{attrs:{disabled:e.loading}},[r("button",{ref:"submitButton",staticClass:"c_btn",attrs:{type:"submit",disabled:!((null===(t=e.form.password)||void 0===t?void 0:t.length)>0),"data-style":"zoom-out"}},[e._v(e._s(e.$t("signup.buttonTextRegister")))])])])]):r("div",{staticClass:"password_re"},[r("h1",[e._v(e._s(e.$t("password.resetFailed")))]),e._v(" "),r("p",{domProps:{innerHTML:e._s(e.$t("password.resetFailedDesc"))}}),e._v(" "),r("a",{staticClass:"c_btn",attrs:{href:e.localePath({name:"auth-login"})}},[e._v(e._s(e.$t("loginPage.signIn")))])])])])}),[],!1,null,null,null);e.default=p.exports}}]);