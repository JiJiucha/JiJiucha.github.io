(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{642:function(e,t,r){"use strict";var n=r(5),a=r(424).values;n({target:"Object",stat:!0},{values:function(e){return a(e)}})},645:function(e,t,r){"use strict";r(33),r(30),r(57),r(22),r(58);var n=r(0),a=r(3),s=(r(15),r(19),r(42),r(7),r(642),r(38)),i=r(640);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={inheritAttrs:!1,props:{name:{type:String,required:!0},disabled:{type:Boolean,default:!1},linkedClass:{type:String,default:"linked"},linkedText:{type:String,default:"unlink"},notLinkedClass:{type:String,default:"not-linked"},notLinkedText:{type:String,default:"link"}},computed:c(c({},Object(s.d)("account",["profile"])),{},{socialId:function(){var e;return null!==(e=this.profile)&&void 0!==e&&e.social_list&&this.name in this.profile.social_list?this.profile.social_list[this.name]:-1},buttonClass:function(){return this.socialId>0?this.linkedClass:this.notLinkedClass},text:function(){return this.socialId<0||this.$slots&&this.$slots.default?"":this.socialId>0?this.linkedText:this.notLinkedText},lastOne:function(){return this.socialId>0&&20!=this.profile.mpa_status_id&&1==Object.values(this.profile.social_list).filter((function(e){return e>0})).length}}),methods:c(c({},Object(s.b)("account",["getProfile","startSocialLogin","unregisterSocialAccount"])),{},{onClick:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e.socialId>0)){t.next=7;break}return e.$emit("click",!1),t.next=5,e.unregister();case 5:t.next=10;break;case 7:return e.$emit("click",!0),t.next=10,e.login();case 10:e.$emit("complete"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),t.t0.statusCode<500?e.$emit("error",t.t0):e.$errorHandler(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},login:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.dispatch("hideLoader"),t.next=3,e.startSocialLogin(e.name);case 3:case"end":return t.stop()}}),t)})))()},unregister:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.confirm(e.$i18n.t("profile.disconnectConfirm",{name:e.$capitalize(e.name)}),e.$i18n.t("profile.disconnectConfirmDesc"),(function(){return"OK"}));case 2:if("OK"!=t.sent.value){t.next=7;break}return e.$store.dispatch("hideLoader"),t.next=7,e.unregisterSocialAccount(e.socialId);case 7:case"end":return t.stop()}}),t)})))()}})},u=r(16),d=Object(u.a)(l,(function(){var e=this;return(0,e._self._c)("button",e._b({ref:"button",class:e.buttonClass,attrs:{"data-style":"zoom-out",disabled:e.disabled||e.lastOne},on:{click:e.onClick}},"button",e.$attrs,!1),[e._t("default",(function(){return[e._v("\n    "+e._s(e.text)+"\n  ")]}))],2)}),[],!1,null,null,null);t.a=d.exports},650:function(e,t,r){"use strict";r(33),r(30),r(42),r(7),r(57),r(22),r(58);var n=r(0),a=r(3),s=(r(15),r(38));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={Name:"PasswordConfirmDialog",components:{ValidationInput:r(639).a},props:{showHeader:{type:Boolean,default:!0},cancelable:{type:Boolean,default:!1}},data:function(){return{form:{password:null},errorMessage:null,loading:!1}},computed:{canSubmit:function(){var e;return(null===(e=this.form.password)||void 0===e?void 0:e.length)>0}},beforeDestroy:function(){this.form.password=null},methods:o(o({},Object(s.b)("account",["confirmPassword"])),{},{onSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.canSubmit){t.next=16;break}return t.prev=2,e.loading=!0,t.next=6,e.$ladda.wrap(e.$refs.submitButton,Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.confirmPassword(e.form.password);case 2:case"end":return t.stop()}}),t)}))));case 6:e.$emit("close","OK"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),422==t.t0.statusCode?e.errorMessage=t.t0.message:e.$errorHandler(t.t0);case 12:return t.prev=12,e.loading=!1,e.form.password=null,t.finish(12);case 16:return e.$nextTick((function(){var t;return null===(t=e.$refs.inputPassword)||void 0===t?void 0:t.focus()})),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[2,9,12,16]])})))()},onClickCancel:function(){this.form.password=null,this.$emit("close","Cancel")}})},l=r(16),u=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"password-confirm-dialog"},[t("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit.apply(null,arguments)}}},[t("fieldset",{attrs:{disabled:e.loading}},[e.showHeader?t("header",[t("h1",[e._v("確認")])]):e._e(),e._v(" "),t("main",[t("p",[e._v(e._s(e.$t("passwordConfirm")))]),e._v(" "),t("validation-input",{ref:"inputPassword",attrs:{type:"password",name:"password","input-type":"password","hide-status":!0,"check-api":!1,disabled:e.loading},on:{"valid-value":function(t){return e.form.password=t}}}),e._v(" "),t("p",{staticClass:"error-message"},[e._v(e._s(e.errorMessage))])],1),e._v(" "),t("footer",[e.cancelable?e._e():t("button",{staticClass:"c_btn",attrs:{type:"button"},on:{click:e.onClickCancel}},[e._v(e._s(e.$t("cancelButtonText")))]),e._v(" "),t("button",{ref:"submitButton",staticClass:"c_btn",attrs:{type:"submit",disabled:!e.canSubmit,"data-style":"zoom-out"}},[e._v(e._s(e.$t("confirmButtonText")))])])])])])}),[],!1,null,null,null);t.a=u.exports},662:function(e,t,r){"use strict";r(33),r(30),r(42),r(7),r(57),r(22),r(58);var n=r(0),a=r(3),s=(r(15),r(38)),i=r(639),o=r(664),c=r(641),l=r(650);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={name:"EmailRegister",mixins:[c.a],inject:["setContentFocus"],components:{ValidationInput:i.a,ActivatePanel:o.a,PasswordConfirmDialog:l.a},props:{isSignup:{type:Boolean,default:!1},isNew:{type:Boolean,default:!1}},data:function(){return{activating:!1,form:{email:null,password:null},errors:{},loading:!1,isConfirmed:null}},computed:d(d({},Object(s.c)("account",["sendMailRemainTime"])),{},{canRegist:function(){var e,t,r=(null===(e=this.form.email)||void 0===e?void 0:e.length)>0,n=!this.isSignup&&!this.isNew||(null===(t=this.form.password)||void 0===t?void 0:t.length)>0;return r&&n}}),fetch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.isSignup||0!=e.isNew){t.next=13;break}return t.prev=1,t.next=4,e.isPasswordConfirmed();case 4:e.isConfirmed=t.sent,e.$nextTick((function(){return e.setContentFocus()})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.$errorHandler(t.t0);case 11:t.next=14;break;case 13:e.isConfirmed=!0;case 14:case"end":return t.stop()}}),t,null,[[1,8]])})))()},methods:d(d({},Object(s.b)("account",["signupEmail","sendSignupActivateMail","registerEmail","sendMpaActivateMail","updateEmail","isPasswordConfirmed"])),{},{onConfirmClosed:function(e){var t=this;"OK"==e&&(this.isConfirmed=!0,this.$nextTick((function(){return t.setContentFocus()})))},onSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$ladda.wrap(e.$refs.submitButton,Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,t.prev=1,!e.isSignup){t.next=7;break}return t.next=5,e.sendSignupActivateMail(e.form.email);case 5:t.next=9;break;case 7:return t.next=9,e.sendMpaActivateMail(e.form.email);case 9:e.activating=!0,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),204==t.t0.statusCode?location.href=e.localePath({name:"mypage"}):422==t.t0.statusCode?e.errors=t.t0.errors:e.$errorHandler(t.t0);case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])}))));case 2:case"end":return t.stop()}}),t)})))()},onCheckActivationCode:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.isSignup){r.next=15;break}return r.prev=1,r.next=4,t.signupEmail({email:t.form.email,password:t.form.password,activation_key:e});case 4:r.next=13;break;case 6:if(r.prev=6,r.t0=r.catch(1),204!=r.t0.statusCode){r.next=12;break}location.href=t.localePath({name:"mypage"}),r.next=13;break;case 12:throw r.t0;case 13:case 18:r.next=22;break;case 15:if(!t.isNew){r.next=20;break}return r.next=18,t.registerEmail({email:t.form.email,password:t.form.password,activation_key:e});case 20:return r.next=22,t.updateEmail({email:t.form.email,activation_key:e});case 22:case"end":return r.stop()}}),r,null,[[1,6]])})))()},onResend:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isSignup){t.next=15;break}return t.prev=1,t.next=4,e.sendSignupActivateMail(e.form.email);case 4:t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(1),204!=t.t0.statusCode){t.next=12;break}location.href=e.localePath({name:"mypage"}),t.next=13;break;case 12:throw t.t0;case 13:t.next=23;break;case 15:return t.prev=15,t.next=18,e.sendMpaActivateMail(e.form.email);case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(15),e.$errorHandler(t.t1);case 23:case"end":return t.stop()}}),t,null,[[1,6],[15,20]])})))()},onCompleted:function(){this.$emit("regist"),this.resetForm()},onCancel:function(){var e=this;this.activating=!1,this.resetForm(),this.$nextTick((function(){return e.setContentFocus()}))},resetForm:function(){this.form.email=null,this.form.password=null}})},f=r(16),m=Object(f.a)(p,(function(){var e=this,t=e._self._c;return t("div",[null===e.isConfirmed?t("div",{staticClass:"PWloading"},[e._m(0)]):e.isConfirmed?!1===e.activating?t("div",[t("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit.apply(null,arguments)}}},[t("fieldset",{attrs:{disabled:e.loading}},[t("label",[t("div",[e._v("\n            "+e._s(e.isSignup||e.isNew?"":e.$t("profile.EmailChangetextafter"))+" "+e._s(e.$t("signup.memberEntryEmail"))+"\n            "),t("validation-input",{attrs:{type:"email",name:"email","input-type":"email","input-mode":"email","redirect-by204":e.isSignup,state:e.errorState("email")},on:{"valid-value":function(t){return e.form.email=t}}})],1)])]),e._v(" "),e.isSignup||e.isNew?t("fieldset",{attrs:{disabled:e.loading}},[t("label",[t("div",{staticClass:"pwBox"},[e._v("\n            "+e._s(e.$t("signup.memberEntryPass"))+"\n            "),t("validation-input",{attrs:{type:"password",name:"password","redirect-by204":e.isSignup,state:e.errorState("password")},on:{"valid-value":function(t){return e.form.password=t}}})],1)])]):e._e(),e._v(" "),e.isSignup||e.isNew?t("fieldset",[t("p",{staticClass:"note",domProps:{innerHTML:e._s(e.$t("signup.termsConditionsLinksEntry"))}})]):e._e(),e._v(" "),t("fieldset",[t("p",{staticClass:"note"},[e._v(e._s(e.$t("signup.EntryBtnText")))]),e._v(" "),e.isSignup||e.isNew?e._e():t("div",{staticClass:"innertext"},[t("p",{domProps:{innerHTML:e._s(e.$t("profile.EmailAdressUpdateText"))}})]),e._v(" "),t("button",{ref:"submitButton",staticClass:"ladda-button c_btn",attrs:{type:"submit","data-style":"zoom-out",disabled:!e.canRegist||e.sendMailRemainTime>0}},[t("span",{staticClass:"ladda-label"},[e._v("\n            "+e._s(e.$t("signup.buttonTextRegister"))+"\n            "),e.sendMailRemainTime>0?t("span",[e._v("("+e._s(e.sendMailRemainTime)+"s)")]):e._e()])]),e._v(" "),e.isSignup?t("picrew-link",{staticClass:"c_btn return",attrs:{to:e.localePath({name:"auth-signup"}),"data-style":"zoom-out"}},[e._v(e._s(e.$t("goBack")))]):e._e()],1)])]):t("activate-panel",{attrs:{email:e.form.email,"on-check":e.onCheckActivationCode,"on-resend":e.onResend,"on-completed":e.onCompleted,"on-cancel":e.onCancel}}):t("div",[t("password-confirm-dialog",{attrs:{"show-header":!1,cancelable:!0},on:{close:e.onConfirmClosed}})],1)],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"PWloading-item"},[e("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw"})])}],!1,null,null,null);t.a=m.exports},665:function(e,t,r){e.exports={}},722:function(e,t,r){"use strict";r(665)},792:function(e,t,r){"use strict";r.r(t);r(33),r(30),r(42),r(7),r(57),r(22),r(58);var n=r(3),a=r(0),s=(r(43),r(86),r(15),r(38)),i=r(639),o=r(650);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={name:"PasswordChanger",components:{ValidationInput:i.a,PasswordConfirmDialog:o.a},inject:["setContentFocus"],data:function(){return{form:{password:null},isConfirmed:null,loading:!1}},computed:{canPasswordChange:function(){var e;return(null===(e=this.form.password)||void 0===e?void 0:e.length)>0}},fetch:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.isPasswordConfirmed();case 3:e.isConfirmed=t.sent,e.$nextTick((function(){return e.setContentFocus()})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.$errorHandler(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},methods:l(l({},Object(s.b)("account",["updatePassword","isPasswordConfirmed"])),{},{onConfirmClosed:function(e){var t=this;"OK"==e&&(this.isConfirmed=!0,this.$nextTick((function(){return t.setContentFocus()})))},onSubmit:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.form.password){t.next=10;break}return t.prev=1,t.next=4,e.$ladda.wrap(e.$refs.submitButton,Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.updatePassword(e.form.password);case 2:e.onComplete();case 3:case"end":return t.stop()}}),t)}))));case 4:return t.abrupt("return",!0);case 7:t.prev=7,t.t0=t.catch(1),e.$errorHandler(t.t0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},onComplete:function(){this.$emit("saved"),this.form.password=null}})},d=r(16),p=Object(d.a)(u,(function(){var e=this,t=e._self._c;return null===e.isConfirmed?t("div",{staticClass:"PWloading"},[e._m(0)]):e.isConfirmed?t("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit.apply(null,arguments)}}},[t("fieldset",{attrs:{disabled:e.loading}},[t("label",[t("div",{staticClass:"pwBox"},[e._v("\n        "+e._s(e.$t("profile.updatedPassword"))+"\n        "),t("validation-input",{attrs:{type:"password",name:"password","input-type":"password"},on:{"valid-value":function(t){return e.form.password=t}}})],1)])]),e._v(" "),t("fieldset",{attrs:{disabled:e.loading}},[t("button",{ref:"submitButton",staticClass:"c_btn",attrs:{type:"submit","data-style":"zoom-out",disabled:!e.canPasswordChange}},[e._v(e._s(e.$t("buttonTextSave")))])])]):t("div",[t("password-confirm-dialog",{attrs:{"show-header":!1,cancelable:!0},on:{close:e.onConfirmClosed}})],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"PWloading-item"},[e("i",{staticClass:"fa fa-spinner fa-pulse fa-3x fa-fw"})])}],!1,null,null,null),f=p.exports,m=r(640),v=r(304),b=r(645),h=r(662);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={name:"MypageIndex",authenticatedArea:!0,mixins:[r(641).a],inject:["loadComplete","setPageTitle"],components:{ModalDialog:v.a,ValidationInput:i.a,SocialLoginButton:b.a,EmailRegister:h.a,PasswordChanger:f},data:function(){return{isNewEmail:!1,form:{creatorName:null},loading:!1,reloadTimerId:null}},computed:{socialLoginProviders:function(){return"facebook,google,apple".split(",")},isLinkedSocial:function(){var e=this;return function(t){return null!=e.$user.profile&&null!=e.$user.profile.social_list&&e.$user.profile.social_list[t]>0}},reloadTime:function(){return 60*parseInt("30")*1e3}},fetch:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.dispatch("showLoader"),t.next=3,e.getDetailProfile();case 3:e.loadComplete();case 4:case"end":return t.stop()}}),t)})))()},watch:{$fetchState:{immediate:!0,handler:function(){0!=this.$fetchState.pending&&1!=this.$fetchState.error||this.loadComplete()}}},mounted:function(){this.setPageTitle('<i class="fa-solid fa-gear" /></i> '+this.$i18n.t("acountSetting")),this.startReloadTImer()},beforeDestroy:function(){clearTimeout(this.reloadTimerId)},methods:_(_({},Object(s.b)("account",["getDetailProfile","updateCreatorName"])),{},{resetForm:function(){this.form.creatorName=null},onSubmitCreatorName:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.form.creatorName){r.next=15;break}return r.prev=1,t.loading=!0,r.next=5,t.$ladda.wrap(t.$refs.submitName,Object(a.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.updateCreatorName(t.form.creatorName);case 2:e&&e(),t.showComplete();case 4:case"end":return r.stop()}}),r)}))));case 5:return r.abrupt("return",!0);case 8:r.prev=8,r.t0=r.catch(1),t.$errorHandler(r.t0);case 11:return r.prev=11,t.resetForm(),t.loading=!1,r.finish(11);case 15:return r.abrupt("return",!1);case 16:case"end":return r.stop()}}),r,null,[[1,8,11,15]])})))()},onClickUnregister:function(e){this.$user.isSubscribed&&(e.preventDefault(),this.$swal({icon:"warning",title:this.$i18n.t("profile.DeleteAccount"),html:"".concat(this.$i18n.t("profile.deleteAccountSubscribed"),'\n            <p style="text-align: center;margin-top:1em;">\n              <a href="').concat(this.$i18n.t("profile.cancelSubscriptionSupportLink"),'" target="_blank" style="color: skyblue;text-decoration: underline">\n                ').concat(this.$i18n.t("profile.howToCancelSubscription"),"\n              </a>\n            </p>"),showCancelButton:!1,confirmButtonText:"OK"}))},onError:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.errorAlert("エラー",t.$i18n.t("auth.snsAuthenticationMethod"));case 2:case"end":return e.stop()}}),e)})))()},showComplete:function(){m.a.successDialog(this.$i18n.t("profile.successfullyUpdated"),{timer:3e3,showConfirmButton:!1}),this.startReloadTImer()},startReloadTImer:function(){var e=this;clearTimeout(this.reloadTimerId),this.reloadTimerId=setTimeout(Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearTimeout(e.reloadTimerId),t.next=3,m.a.warningAlert(null,e.$i18n.t("profile.reloadMessage"));case 3:location.reload();case 4:case"end":return t.stop()}}),t)}))),this.reloadTime)}})},C=(r(722),Object(d.a)(w,(function(){var e,t,r,n,a=this,s=a._self._c;return s("div",[a.$user.profile?s("div",{staticClass:"account-content"},[a.$user.isCreator?a._e():s("section",[s("a",{staticClass:"c_btn_3d creatorenty",attrs:{href:a.localePath({name:"mypage-upgrade-creator"})}},[a._v(a._s(a.$t("creatorEntry")))])]),a._v(" "),s("section",[s("div",[a._v("\n        "+a._s(a.$t("profile.profileAccount"))+":\n        "),s("span",{class:a.$user.isSubscribedPremium?"premium-user-badge":a.$user.isSubscribedPro?"pro-user-badge":""},[s("a",{staticStyle:{"pointer-events":"none","text-decoration":"none"},attrs:{href:"#"}},[a._v(a._s(a.$user.profile.id))])])]),a._v(" "),s("span",{staticClass:"att"},[a._v(a._s(a.$t("profile.changeID")))])]),a._v(" "),a.$user.isCreator?s("section",[s("h3",{staticClass:"section-name"},[a._v(a._s(a.$t("creatorName")))]),a._v(" "),s("ul",{staticClass:"indent"},[s("li",[s("span",[a._v(a._s(a.$user.profile.creator_name))]),a._v(" "),s("button",{staticClass:"c_btn",on:{click:function(e){e.preventDefault(),e.stopPropagation(),a.startReloadTImer(),a.$modal.show("change-creator-name")}}},[a._v("\n            "+a._s(a.$t("profile.update"))+"\n          ")])])])]):a._e(),a._v(" "),s("section",{staticClass:"sns"},[s("h3",{staticClass:"section-name"},[a._v(a._s(a.$t("profile.linkedAccounts")))]),a._v(" "),null!==(e=a.$route)&&void 0!==e&&null!==(t=e.params)&&void 0!==t&&t.errorMessage?s("p",{staticStyle:{color:"red"}},[a._v(a._s(null===(r=a.$route)||void 0===r||null===(n=r.params)||void 0===n?void 0:n.errorMessage))]):a._e(),a._v(" "),s("ul",{staticClass:"indent"},a._l(a.socialLoginProviders,(function(e){return s("li",{key:e},[s("div",[s("span",{staticClass:"snsname"},[a._v(a._s(a.$capitalize(e)))]),a._v(" "),a.isLinkedSocial(e)?s("span",{staticClass:"renkei"},[a._v(a._s(a.$t("profile.AlreadyLinked")))]):s("span",{staticClass:"mi-renkei"},[a._v(a._s(a.$t("profile.Unassociated")))])]),a._v(" "),s("social-login-button",{staticClass:"c_btn",attrs:{name:e,"linked-text":a.$t("profile.disconnect"),"not-linked-text":a.$t("profile.connect")},on:{error:a.onError}})],1)})),0),a._v(" "),s("p",{domProps:{innerHTML:a._s(a.$t("profile.linkedAccountsDesc"))}})]),a._v(" "),s("section",[a.$user.profile.email?s("div",[s("h3",{staticClass:"section-name"},[a._v(a._s(a.$t("profile.EmailAdressAuthentication")))]),a._v(" "),s("ul",{staticClass:"indent"},[s("li",[s("div",[a._v("\n              "+a._s(a.$t("signup.memberEntryEmail"))+"\n              "),s("br"),a._v(" "),s("span",{staticClass:"mailnote"},[s("a",{staticStyle:{"pointer-events":"none","text-decoration":"none"},attrs:{href:"#"}},[a._v(a._s(a.$user.profile.email))])])]),a._v(" "),s("button",{staticClass:"c_btn",on:{click:function(e){e.preventDefault(),e.stopPropagation(),a.startReloadTImer(),a.resetForm(),a.$modal.show("change-email")}}},[a._v("\n              "+a._s(a.$t("profile.update"))+"\n            ")])])])]):s("ul",[s("li",[s("span",{staticClass:"section-name"},[a._v(a._s(a.$t("profile.EmailAdressAuthentication")))]),a._v(" "),s("button",{staticClass:"c_btn mailplus",on:{click:function(e){e.preventDefault(),e.stopPropagation(),a.startReloadTImer(),a.resetForm(),a.$modal.show("add-email")}}},[a._v("\n            "+a._s(a.$t("buttonTextAdd"))+"\n          ")])])])]),a._v(" "),a.$user.profile.email?s("section",[s("ul",{staticClass:"indent"},[s("li",[s("div",[a._v("\n            "+a._s(a.$t("signup.memberEntryPass"))+"\n            "),s("br"),a._v(" "),s("span",{staticClass:"att"},[a._v(a._s(a.$t("signup.memberEntryPassHidden")))])]),a._v(" "),s("button",{staticClass:"c_btn",on:{click:function(e){e.preventDefault(),e.stopPropagation(),a.startReloadTImer(),a.resetForm(),a.$modal.show("change-password")}}},[a._v("\n            "+a._s(a.$t("profile.update"))+"\n          ")])])])]):a._e(),a._v(" "),s("section",[s("h3",{staticClass:"section-name"},[a._v(a._s(a.$t("profile.deleteAccount")))]),a._v(" "),s("ul",{staticClass:"indent removemember"},[s("li",[s("div"),a._v(" "),s("a",{staticClass:"c_btn",attrs:{href:a.localePath({name:"mypage-unregister"})},on:{"!click":function(e){return a.onClickUnregister.apply(null,arguments)}}},[a._v(a._s(a.$t("profile.deleteAccountButton")))])])])])]):a._e(),a._v(" "),s("modal-dialog",{attrs:{name:"change-creator-name",footer:!1,classes:"account-EditName_Modal",scrollable:!0},scopedSlots:a._u([{key:"header",fn:function(){return[s("h1",[a._v(a._s(a.$t("profile.updateCreatorName")))])]},proxy:!0},{key:"default",fn:function(e){return[s("form",{on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),a.onSubmitCreatorName(e.close)}}},[s("fieldset",{attrs:{disabled:a.loading}},[s("label",[s("div",{staticClass:"crBox"},[a._v("\n              "+a._s(a.$t("creatorName"))+"\n              "),s("validation-input",{attrs:{type:"creator_name",name:"creator_name",description:a.$t("profile.updateCreatorNameDesc")},on:{"valid-value":function(e){return a.form.creatorName=e}}})],1)])]),a._v(" "),s("fieldset",{attrs:{disabled:a.loading}},[s("button",{ref:"submitName",staticClass:"c_btn",attrs:{type:"submit","data-style":"zoom-out",disabled:null==a.form.creatorName||0==a.form.creatorName.length}},[a._v(a._s(a.$t("buttonTextSave")))])])])]}}])}),a._v(" "),s("modal-dialog",{attrs:{name:"add-email",footer:!1,classes:"account-AddEmail_Modal",scrollable:!0},scopedSlots:a._u([{key:"header",fn:function(){return[s("h1",[a._v(a._s(a.$t("profile.addEmailAdress")))])]},proxy:!0},{key:"default",fn:function(e){return[s("email-register",{attrs:{"is-new":!0},on:{regist:function(t){e.close(),a.showComplete()}}})]}}])}),a._v(" "),s("modal-dialog",{attrs:{name:"change-email",footer:!1,classes:"account-EditEmail_Modal",scrollable:!0},scopedSlots:a._u([{key:"header",fn:function(){return[s("h1",[a._v(a._s(a.$t("profile.updateEmail")))])]},proxy:!0},{key:"default",fn:function(e){return[s("email-register",{on:{regist:function(t){e.close(),a.showComplete()}}})]}}])}),a._v(" "),s("modal-dialog",{attrs:{name:"change-password",footer:!1,classes:"account-EditPassword_Modal",scrollable:!0},scopedSlots:a._u([{key:"header",fn:function(){return[s("h1",[a._v(a._s(a.$t("profile.updatePassword")))])]},proxy:!0},{key:"default",fn:function(e){return[s("password-changer",{on:{saved:function(t){e.close(),a.showComplete()}}})]}}])})],1)}),[],!1,null,"041d1d72",null));t.default=C.exports}}]);