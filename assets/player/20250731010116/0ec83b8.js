(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{793:function(e,t,r){"use strict";r.r(t);r(33),r(30),r(42),r(7),r(57),r(22),r(58);var n=r(3),a=r(0),i=(r(15),r(38)),o=r(664),s=r(639);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={mixins:[r(641).a],components:{ActivatePanel:o.a,ValidationInput:s.a},props:{email:{type:String,default:null}},data:function(){return{activating:!1,form:{email:null,password:null,creatorName:null},errors:{},loading:!1}},computed:{canRegist:function(){var e,t,r;return(null!=this.email||(null===(e=this.form.email)||void 0===e?void 0:e.length)>0&&(null===(t=this.form.password)||void 0===t?void 0:t.length)>0)&&(null===(r=this.form.creatorName)||void 0===r?void 0:r.length)>0}},methods:u(u({},Object(i.b)("account",["sendMpaActivateMail","upgradeCreator"])),{},{onSubmit:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$ladda.wrap(e.$refs.submitButton,Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,null==e.email){t.next=7;break}return t.next=4,e.upgradeCreator({creator_name:e.form.creatorName});case 4:e.onCompleted(),t.next=10;break;case 7:return t.next=9,e.sendMpaActivateMail(e.form.email);case 9:e.activating=!0;case 10:case"end":return t.stop()}}),t)}))));case 3:t.next=12;break;case 5:if(t.prev=5,t.t0=t.catch(0),422!=t.t0.statusCode){t.next=11;break}e.errors=t.t0.errors,t.next=12;break;case 11:throw t.t0;case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,5,12,15]])})))()},onCheckActivationCode:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.upgradeCreator({creator_name:t.form.creatorName,email:t.form.email,password:t.form.password,activation_key:e});case 2:case"end":return r.stop()}}),r)})))()},onResend:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.sendMpaActivateMail(e.form.email);case 2:case"end":return t.stop()}}),t)})))()},onCompleted:function(){this.$emit("regist"),this.resetForm()},onCancel:function(){this.activating=!1,this.resetForm()},resetForm:function(){this.form.email=null,this.form.password=null}})},p=r(16),m=Object(p.a)(l,(function(){var e=this,t=e._self._c;return!1===e.activating?t("div",{staticClass:"email-register-container"},[t("p",{staticClass:"att-txt"},[e._v(e._s(e.$t("Creatorupgre.CreatorupgreRead")))]),e._v(" "),t("form",{staticClass:"email-register-form",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit.apply(null,arguments)}}},[t("fieldset",{attrs:{disabled:e.loading}},[t("label",{staticClass:"line"},[t("h3",[e._v(e._s(e.$t("signup.memberEntryEmail")))]),e._v(" "),e.email?t("span",[e._v(e._s(e.email))]):t("validation-input",{attrs:{type:"email",name:"email","input-mode":e.email,state:e.errorState("email")},on:{"valid-value":function(t){return e.form.email=t}}})],1)]),e._v(" "),t("fieldset",{attrs:{disabled:e.loading}},[t("label",{staticClass:"line"},[t("h3",[e._v(e._s(e.$t("signup.memberEntryPass")))]),e._v(" "),e.email?t("span",{staticClass:"att"},[e._v(e._s(e.$t("signup.memberEntryPassHidden")))]):t("validation-input",{staticClass:"pwBox",attrs:{type:"password",name:"password",state:e.errorState("password")},on:{"valid-value":function(t){return e.form.password=t}}})],1)]),e._v(" "),t("fieldset",{attrs:{disabled:e.loading}},[t("label",[t("h3",[e._v(e._s(e.$t("profile.UpgradecreatorName")))]),e._v(" "),t("validation-input",{attrs:{type:"creator_name",name:"creator_name",description:e.$t("profile.CreatNameChangetextBtn"),state:e.errorState("creator_name")},on:{"valid-value":function(t){return e.form.creatorName=t}}})],1)]),e._v(" "),t("fieldset",[t("p",{staticClass:"note",domProps:{innerHTML:e._s(e.$t("signup.termsConditionsLinksEntry"))}})]),e._v(" "),t("fieldset",[e.email?e._e():t("p",{staticClass:"note"},[e._v(e._s(e.$t("signup.EntryBtnText")))]),e._v(" "),t("button",{ref:"submitButton",staticClass:"c_btn entry",attrs:{type:"submit",disabled:!e.canRegist,"data-style":"zoom-out"}},[e._v(e._s(e.$t("signup.buttonTextRegister")))])])])]):t("activate-panel",{attrs:{email:e.form.email,"on-check":e.onCheckActivationCode,"on-resend":e.onResend,"on-completed":e.onCompleted,"on-cancel":e.onCancel}})}),[],!1,null,null,null);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={name:"AccountUpgrage",authenticatedArea:!0,inject:["loadComplete","setPageTitle"],components:{CreatorRegister:m.exports},fetch:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDetailProfile();case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){this.setPageTitle('<i class="fa fa-paint-brush" aria-hidden="true"></i> '+this.$i18n.t("creatorRegistration")),this.loadComplete()},methods:d(d({},Object(i.b)("account",["getDetailProfile","cancelCreatorActivate"])),{},{onRegist:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDetailProfile();case 2:case"end":return t.stop()}}),t)})))()},onCompleted:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDetailProfile();case 2:case"end":return t.stop()}}),t)})))()},onCancel:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cancelCreatorActivate();case 2:location.href=e.localePath({name:"mypage-profile"});case 3:case"end":return t.stop()}}),t)})))()}})},g=Object(p.a)(v,(function(){var e,t=this,r=t._self._c;return r("div",{staticClass:"creator-content"},[t.$user.isCreator?[r("div",{staticClass:"success"}),t._v(" "),r("h1",[t._v(t._s(t.$t("Activate.AuthenticateFinish")))]),t._v(" "),r("p",{staticClass:"text",domProps:{innerHTML:t._s(t.$t("auth.thanksRegistering"))}}),t._v(" "),r("div",[r("a",{staticClass:"c_btn",attrs:{href:t.$store.state.picrewData.creatorUrl}},[t._v(t._s(t.$t("createImageMaker")))])]),t._v(" "),r("div",[r("a",{staticClass:"c_btn",attrs:{href:t.localePath({name:"mypage"})}},[t._v(t._s(t.$t("memberPage")))])])]:[r("creator-register",{attrs:{email:null===(e=t.$user.profile)||void 0===e?void 0:e.email},on:{regist:t.onRegist}})]],2)}),[],!1,null,null,null);t.default=g.exports}}]);