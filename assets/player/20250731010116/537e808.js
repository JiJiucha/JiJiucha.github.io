(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{639:function(t,e,n){"use strict";n(19),n(159),n(30),n(49),n(33),n(42),n(7),n(57),n(22),n(58);var r=n(3),i=n(0),a=(n(15),n(120),n(86),n(38)),s=n(193);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=-1,l=0,p=1,f=2,d=3,m={data:function(){return{inputValue:"",status:l,error:"",checkFunction:null,isVisiblePassword:!1}},props:{inputType:{type:String,default:"text"},name:{type:String,default:null},type:{type:String,required:!0},styleClass:{type:String,default:""},waitMs:{type:Number,default:800},checkLength:{type:Number,default:1},checkApi:{type:Boolean,default:!0},description:{type:String,default:""},state:{type:Boolean,default:null},redirectBy204:{type:Boolean,default:!1},inputMode:{type:String,default:null},placeholder:{type:String,default:""},hideStatus:{type:Boolean,default:!1}},watch:{inputValue:function(t,e){t!==e&&(this.$emit("valid-value",""),t.length>=this.checkLength?this.onCheckValue():this.status=0===t.length?l:p)}},computed:{isEmailInput:function(){return"email"===this.type||"exists_email"===this.type||"email"===this.inputType},isPasswordInput:function(){return"password"===this.type},statusMessage:function(){switch(this.status){case c:return this.error;case f:return this.$i18n.t("inputComponent.validating");case d:return this.$i18n.t("inputComponent.available");case l:return"";case p:return this.$i18n.t("inputComponent.checkLength",{length:this.checkLength})}return""},statusClass:function(){switch(this.status){case l:return"is_none";case c:return"is_error";case f:return"is_checking";case d:return"is_can_use";case p:return"is_editing"}return"is_none"}},mounted:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$nextTick();case 2:t.onInitialize();case 3:case"end":return e.stop()}}),e)})))()},methods:u(u({clear:function(){var t=this;this.error="",this.inputValue="",this.status=l,this.checkFunction=Object(s.a)(Object(i.a)(regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isEmailInput){e.next=6;break}if(!(((null===(n=t.$refs.otherInput)||void 0===n?void 0:n.validationMessage)||"").length>0)){e.next=6;break}return t.error=t.$i18n.t("inputComponent.invalidEmailFormat"),t.status=c,e.abrupt("return");case 6:return t.status=f,t.error="",e.prev=8,e.next=11,t._checkApi();case 11:t.status=d,t.$emit("valid-value",t.inputValue),e.next=29;break;case 15:if(e.prev=15,e.t0=e.catch(8),!t.redirectBy204||204!=e.t0.statusCode){e.next=21;break}return location.href=t.localePath({name:"mypage"}),e.abrupt("return");case 21:if(!(e.t0.statusCode>=500)){e.next=25;break}return t.status=c,t.error="System Error",e.abrupt("return");case 25:r=t.name||t.type,i=[],"errors"in e.t0&&(i="errors"in e.t0.errors?e.t0.errors.errors:e.t0.errors,t.error=r in i?i[r][0]:i),t.status=c;case 29:case"end":return e.stop()}}),e,null,[[8,15]])}))),this.waitMs)},onToggle:function(){var t,e,n=(null===(t=this.$el)||void 0===t?void 0:t.querySelector("input"))||{},r=n.selectionStart,i=n.selectionEnd;this.isVisiblePassword=!this.isVisiblePassword;var a=null===(e=this.$el)||void 0===e?void 0:e.querySelector("input");a&&setTimeout((function(){a.focus(),a.selectionStart=r||0,a.selectionEnd=i||0}),1)},onCheckValue:function(){this.checkApi&&this.checkFunction?this.checkFunction():(this.status=d,this.$emit("valid-value",this.inputValue))},onInitialize:function(){this.clear()}},Object(a.b)("account",["isEnabledCreatorName","isEnabledEmail","isEnabledPassword","isExistsEmail"])),{},{_checkApi:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="creator_name"===e.t0?3:"email"===e.t0?6:"password"===e.t0?10:"exists_email"===e.t0?13:17;break;case 3:return e.next=5,t.isEnabledCreatorName(t.inputValue);case 5:case 9:case 12:case 16:return e.abrupt("return",e.sent);case 6:return t.inputValue=t.inputValue.toLowerCase(),e.next=9,t.isEnabledEmail(t.inputValue);case 10:return e.next=12,t.isEnabledPassword(t.inputValue);case 13:return t.inputValue=t.inputValue.toLowerCase(),e.next=16,t.isExistsEmail(t.inputValue);case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e)})))()},focus:function(){var t,e;null===(t=this.$el)||void 0===t||null===(e=t.querySelector("input"))||void 0===e||e.focus()}})},v=n(16),h=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tc_validation_input",class:[t.styleClass,t.statusClass]},[e("div",{staticClass:"tc_validation_input_main"},[e("div",{staticClass:"tc_validation_input_field"},[t.isPasswordInput?[t.isVisiblePassword?[e("div",{staticClass:"input-group pwBox"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],ref:"visiblePassword",attrs:{type:"text",name:t.name,state:t.state,inputmode:t.inputMode,placeholder:t.placeholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("span",{staticClass:"input-group-btn"},[e("button",{staticClass:"btn btn-default",attrs:{tabindex:"-1",type:"button"},on:{click:function(e){return e.preventDefault(),t.onToggle.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-eye-slash fa-fw"})])])])]:[e("div",{staticClass:"input-group pwBox"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],ref:"hiddenPassword",attrs:{type:"password",autocomplete:"new-password",name:t.name,state:t.state,inputmode:t.inputMode,placeholder:t.placeholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("span",{staticClass:"input-group-btn"},[e("button",{staticClass:"btn btn-default",attrs:{tabindex:"-1",type:"button"},on:{click:function(e){return e.preventDefault(),t.onToggle.apply(null,arguments)}}},[e("i",{staticClass:"fa fa-eye fa-fw"})])])])]]:t._e(),t._v(" "),t.isPasswordInput?t._e():[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputValue,expression:"inputValue",modifiers:{trim:!0}}],ref:"otherInput",attrs:{type:t.inputType,name:t.name,state:t.state,inputmode:t.inputMode,placeholder:t.placeholder},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]],2),t._v(" "),t.hideStatus?t._e():e("div",{staticClass:"tc_validation_input_status"})]),t._v(" "),e("div",{staticClass:"tc_validation_input_description",domProps:{innerHTML:t._s(t.description)}}),t._v(" "),e("div",{staticClass:"tc_validation_input_message"},[e("span",[t._v(t._s(t.statusMessage))])])])}),[],!1,null,null,null);e.a=h.exports},641:function(t,e,n){"use strict";e.a={computed:{errorMessage:function(){var t=this;return function(e){var n=t.errors;return n&&e in n?Array.isArray(n[e])?n[e][0]:n[e]:null}},errorState:function(){var t=this;return function(e){var n=t.errors;return(!n||!(e in n))&&null}}}}},809:function(t,e,n){"use strict";n.r(e);n(33),n(30),n(42),n(7),n(57),n(22),n(58);var r=n(0),i=n(3),a=(n(15),n(43),n(38)),s=n(639);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c={name:"MypageUnregister",authenticatedArea:!0,mixins:[n(641).a],inject:["loadComplete","setPageTitle"],components:{ValidationInput:s.a},data:function(){return{form:{password:null},errors:{}}},computed:{canSubmitCreator:function(){var t;return!0!==this.$user.isSubscribed&&(null===(t=this.form.password)||void 0===t?void 0:t.length)>0}},mounted:function(){this.setPageTitle(this.$i18n.t("profile.DeleteAccount")),this.loadComplete(),this.$user.isSubscribed&&this.$swal({icon:"warning",title:this.$i18n.t("profile.DeleteAccount"),html:"".concat(this.$i18n.t("profile.deleteAccountSubscribed"),'\n          <p style="text-align: center;margin-top:1em;">\n            <a href="').concat(this.$i18n.t("profile.cancelSubscriptionSupportLink"),'" target="_blank" style="color: skyblue;text-decoration: underline">\n            ').concat(this.$i18n.t("profile.howToCancelSubscription"),"</a>\n          </p>"),showCancelButton:!1,confirmButtonText:"OK"})},methods:u(u({},Object(a.b)("account",["unregisterMember","unregisterCreator"])),{},{onCancel:function(){location.href=this.localePath({name:"mypage-profile"})},onMemberSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$swal({title:t.$i18n.t("profile.DeleteAccount"),text:t.$i18n.t("profile.deleteAccountAlertDesc"),icon:"warning",showCancelButton:!0,confirmButtonText:t.$i18n.t("confirmButtonText"),cancelButtonText:t.$i18n.t("cancelButtonText"),showLoaderOnConfirm:!0,allowOutsideClick:!1,allowEnterKey:!1,reverseButtons:!0,preConfirm:function(){return"OK"},customClass:{htmlContainer:"sweetalert2-content",confirmButton:"sweetalert2-btn-primary"}});case 2:if("OK"!=e.sent.value){e.next=15;break}return e.prev=4,e.next=7,t.unregisterMember();case 7:return e.next=9,t.completeUnregister();case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),e.next=15,t.$swal(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))()},onCreatorSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$swal({title:t.$i18n.t("profile.DeleteAccount"),text:t.$i18n.t("profile.deleteAccountAlertDescAll"),icon:"warning",showCancelButton:!0,confirmButtonText:t.$i18n.t("confirmButtonText"),cancelButtonText:t.$i18n.t("cancelButtonText"),showLoaderOnConfirm:!0,allowOutsideClick:!1,allowEnterKey:!1,reverseButtons:!0,preConfirm:function(){return"OK"},customClass:{htmlContainer:"sweetalert2-content",confirmButton:"sweetalert2-btn-primary"}});case 2:if("OK"!=e.sent.value){e.next=14;break}return e.prev=4,e.next=7,t.unregisterCreator(t.form.password);case 7:return e.next=9,t.completeUnregister();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t.$swal(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))()},completeUnregister:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$user.removeFrontSession(),e.next=3,t.$swal({title:t.$i18n.t("profile.successfullyDeleted"),icon:"warning",timer:3e3,showConfirmButton:!1});case 3:location.href=t.localePath({name:"index"});case 4:case"end":return e.stop()}}),e)})))()}})},l=n(16),p=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"delete-content"},[t.$user.isCreator?[e("section",{staticClass:"deleate_member"},[e("p",{domProps:{innerHTML:t._s(t.$t("profile.DeleteAccountMember"))}}),t._v(" "),e("ul",{staticClass:"delete-content_inner"},[e("li",[t._v(t._s(t.$t("profile.accountdata")))]),t._v(" "),e("li",[t._v(t._s(t.$t("profile.bookmarkdata")))]),t._v(" "),e("li",[t._v(t._s(t.$t("profile.imageMakerData")))])]),t._v(" "),e("p",{domProps:{innerHTML:t._s(t.$t("profile.DeleteAccountMemberone"))}}),t._v(" "),e("div",{staticClass:"deleate_member_note"},[t._v(t._s(t.$t("profile.DeleteAccountMembertwo")))]),t._v(" "),e("p",[e("span",{staticClass:"info"},[t._v(t._s(t.$t("profile.changeAccountInfo")))]),t._v("\n        "+t._s(t.$t("profile.changeAccountInfoDesc"))+"\n        "),e("span",{staticClass:"info"},[t._v(t._s(t.$t("profile.deleteImageMakerInfo")))]),t._v("\n        "+t._s(t.$t("profile.deleteImageMakerInfoDesc"))+"\n      ")])]),t._v(" "),e("section",[e("p",[t._v(t._s(t.$t("profile.passwordConfirm")))]),t._v(" "),e("label",[e("div",{staticClass:"pwBox"},[t._v("\n          "+t._s(t.$t("profile.currentPassword"))+"\n          "),e("validation-input",{attrs:{type:"password",name:"password","input-type":"password","hide-status":!0,"check-api":!1,state:t.errorState("password")},on:{"valid-value":function(e){return t.form.password=e}}})],1)]),t._v(" "),e("div",{staticClass:"buttons"},[e("button",{staticClass:"c_btn cancel",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onCancel.apply(null,arguments)}}},[t._v(t._s(t.$t("cancelButtonText")))]),t._v(" "),e("button",{staticClass:"c_btn",attrs:{disabled:!t.canSubmitCreator},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onCreatorSubmit.apply(null,arguments)}}},[t._v(t._s(t.$t("profile.confirmDeleteAccount")))])])])]:[e("section",[e("p",{domProps:{innerHTML:t._s(t.$t("profile.DeleteAccountMember"))}}),t._v(" "),e("ul",{staticClass:"delete-content_inner"},[e("li",[t._v(t._s(t.$t("profile.accountdata")))]),t._v(" "),e("li",[t._v(t._s(t.$t("profile.bookmarkdata")))])]),t._v(" "),e("p",[t._v(t._s(t.$t("profile.DeleteAccountQuestion")))]),t._v(" "),e("div",{staticClass:"buttons"},[e("button",{staticClass:"c_btn cancel",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onCancel.apply(null,arguments)}}},[t._v(t._s(t.$t("cancelButtonText")))]),t._v(" "),e("button",{staticClass:"c_btn",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onMemberSubmit.apply(null,arguments)}}},[t._v(t._s(t.$t("profile.confirmDeleteAccount")))])])])]],2)}),[],!1,null,null,null);e.default=p.exports}}]);