(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{791:function(t,e,a){"use strict";a.r(e);a(33),a(30),a(42),a(7),a(57),a(22),a(58);var r=a(0),o=a(3),s=(a(15),a(48),a(38)),i=(a(19),{name:"CreatorInvitationPanel",props:{name:{type:String,required:!0}},data:function(){return{show:!1}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$keyValueStore.get(t.name);case 2:a=e.sent,t.show=null==a;case 4:case"end":return e.stop()}}),e)})))()},methods:{onHide:function(){this.show=!1,this.$keyValueStore.set(this.name,1)},onClickCreatorUpgrade:function(){location.href=this.localePath({name:"mypage-upgrade-creator"})}}}),n=a(16),c=Object(n.a)(i,(function(){var t=this,e=t._self._c;return e("div",[e("transition",[t.show?e("div",{staticClass:"creator-invitation-panel-outer"},[e("div",{staticClass:"creator-invitation-panel"},[e("p",[t._v(t._s(t.$t("mypage.CreatoraccountNow")))]),t._v(" "),e("button",{staticClass:"btn_close",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onHide.apply(null,arguments)}}},[e("i",{staticClass:"fa-solid fa-xmark"})]),t._v(" "),e("button",{staticClass:"c_btn_3d btn_upgrade",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onClickCreatorUpgrade.apply(null,arguments)}}},[t._v(t._s(t.$t("creatorRegistrationBtn")))])])]):t._e()]),t._v(" "),t._t("default")],2)}),[],!1,null,null,null),l=c.exports,u=a(11);function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?m(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:"MypageIndex",authenticatedArea:!0,components:{CreatorInvitationPanel:l,ImageMakerSquareCard:a(238).default},inject:["loadComplete","setPageTitle"],data:function(){return{selectedCountry:null,countries:[{key:"jp",label:"&#x1f1ef;&#x1f1f5;"},{key:"all",label:"&#x1f30d;"}],loadedImages:0}},computed:d(d(d({},Object(s.d)(["discoveries","hot","jphot"])),Object(s.d)("bookmark",["bookmarks","bookmarkList"])),{},{headBookmarks:function(){var t;return(null===(t=this.bookmarkList.data)||void 0===t?void 0:t.slice(0,3))||[]},currentHot:function(){return"jp"==this.country?this.jphot:this.hot},hotToggleClass:function(){return"jp"==this.country?"is_jp":"is_all"},country:{get:function(){return this.selectedCountry||("ja"==this.$i18n.locale?"jp":"all")},set:function(t){null!=t&&(localStorage.setItem("sitetop_hot_maker_country",t),this.selectedCountry=t)}},bookmarkCount:function(){var t;return(null===(t=this.bookmarks)||void 0===t?void 0:t.length)||0},bookmarkListCount:function(){var t;return(null===(t=this.bookmarkList)||void 0===t?void 0:t.total)||0},maxBookmarkCount:function(){var t;return(null===(t=this.$user.profile)||void 0===t?void 0:t.bookmark_limit)||20}}),fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t.getBookmarkList();case 4:return e.next=6,t.$store.dispatch("loadIntroductions");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.$errorHandler(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t.$store.dispatch("bookmark/syncToDb");case 3:t.selectedCountry=localStorage.getItem("sitetop_hot_maker_country"),t.setPageTitle(""),t.loadComplete();case 6:case"end":return e.stop()}}),e)})))()},methods:d(d({},Object(s.b)("bookmark",["getBookmarkList"])),{},{shareImageUrl:function(t){return Object(u.g)(t)},onLoadImage:function(){var t;this.loadedImages+=1,this.loadedImages>=(null===(t=this.discoveries)||void 0===t?void 0:t.length)&&this.$setSimpleBarToElement(this.$refs.discoveryList,{autoHide:!1,forceVisible:"x"})}})},v=Object(n.a)(p,(function(){var t,e,a=this,r=a._self._c;return r("div",{staticClass:"mypage-inner"},[r("client-only",[a.$user.isCreator?a._e():r("creator-invitation-panel",{attrs:{name:"creator_invitation"}})],1),a._v(" "),r("section",{staticClass:"welcome"},[r("span",[a._v("\n      "+a._s(a.$t("mypage.greeting",{id:a.$user.isCreator?null===(t=a.$user.profile)||void 0===t?void 0:t.creator_name:null===(e=a.$user.profile)||void 0===e?void 0:e.id}))+"\n    ")]),a._v(" "),a.$user.isCreator?r("a",{staticClass:"c_btn_border",attrs:{href:a.$store.state.picrewData.creatorUrl}},[a._v(a._s(a.$t("createImageMaker")))]):r("a",{staticClass:"c_btn_border",attrs:{href:a.localePath({name:"mypage-upgrade-creator"})}},[a._v(a._s(a.$t("creatorEntry")))])]),a._v(" "),r("section",{staticClass:"appBox"},[r("p",{staticClass:"ReadText"},[a._v("＼"+a._s(a.$t("mypage.Readtext"))+"／")]),a._v(" "),r("ul",{staticClass:"appBtn"},[r("li",[r("a",{attrs:{href:a.$t("bookmark.appstoreUrl"),target:"_blank"}},[r("localized-image",{staticClass:"img-fluid",attrs:{src:"btn-appstore.png"}})],1)]),a._v(" "),r("li",[r("a",{attrs:{href:a.$t("bookmark.googstoreUrl"),target:"_blank"}},[r("localized-image",{staticClass:"img-fluid",attrs:{src:"btn-googleplay.png"}})],1)])])]),a._v(" "),r("section",{staticClass:"mypage_Bookmark",class:{_empty:0==a.bookmarkListCount}},[r("div",{staticClass:"mypage_Bookmark_Header"},[r("h2",{staticClass:"mypage_Bookmark_Title"},[r("i",{staticClass:"fa fa-bookmark"}),a._v("\n        "+a._s(a.$t("bookMark"))+" ["+a._s(a.bookmarkCount)+"/"+a._s(a.maxBookmarkCount)+"]\n      ")]),a._v(" "),a.bookmarkListCount>2?r("a",{staticClass:"bookmarkmore",attrs:{href:a.localePath({name:"mypage-bookmark"})}},[a._v("\n        "+a._s(a.$t("showMore"))+"\n        "),r("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})]):a._e()]),a._v(" "),a.bookmarkListCount>0?r("div",[r("ul",{staticClass:"mypage_Bookmark_List"},a._l(a.headBookmarks,(function(t){return r("li",{key:t.id},[r("image-maker-square-card",{attrs:{info:t,"page-name":!0}})],1)})),0)]):r("p",[a._v("\n      "+a._s(a.$t("mypage.favoriteImageBookmarkone"))+"\n      "),r("i",{staticClass:"fa fa-regular fa-heart"}),a._v("\n      "+a._s(a.$t("mypage.favoriteImageBookmarktwo"))+"\n    ")])]),a._v(" "),r("section",[r("div",{staticClass:"c_text_center"},[a._v(a._s(a.$t("mypage.favoriteImageSeach")))])]),a._v(" "),r("section",{staticClass:"Discovery-contents"},[r("div",{staticClass:"Discovery"},[r("div",{staticClass:"Discovery_Header"},[r("h2",{staticClass:"Discovery_Title"},[r("i",{staticClass:"fa fa-regular fa-lightbulb"}),a._v("\n          "+a._s(a.$t("topPage.discovery"))+"\n        ")]),a._v(" "),r("picrew-link",{staticClass:"Discovery_More",attrs:{to:a.localePath({name:"discovery"})}},[a._v("\n          "+a._s(a.$t("showMore"))+"\n          "),r("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})])],1),a._v(" "),r("client-only",[a.discoveries?r("ul",{ref:"discoveryList",staticClass:"DiscoveryList",attrs:{"data-implebar":"","data-simplebar-auto-hide":"false"}},[a._l(a.discoveries,(function(t,e){return r("li",{key:e,staticClass:"DiscoveryList_Img"},[r("picrew-link",{attrs:{to:a.localePath({name:"image_maker-id",params:{id:t.id}})}},[r("img",{staticClass:"lazyload",attrs:{"data-src":a.shareImageUrl(t.url)},on:{load:a.onLoadImage,error:a.onLoadImage}})])],1)})),a._v(" "),r("li",{staticClass:"DiscoveryList_More"},[r("picrew-link",{attrs:{to:a.localePath({name:"discovery"})}},[r("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})])],1)],2):a._e()])],1)]),a._v(" "),r("section",{staticClass:"mypageHot-ImagemakerList"},[r("h2",{staticClass:"sitetop-Hot_Header"},[r("div",{staticClass:"sitetop-Hot_Title"},[r("i",{staticClass:"fa fa-line-chart",attrs:{"aria-hidden":"true"}}),a._v("\n        "+a._s(a.$t("topPage.hotTitle"))+"\n      ")]),a._v(" "),r("div",{staticClass:"sitetop-Hot_CountrySwitch",class:a.hotToggleClass},[a._l(a.countries,(function(t){return[r("input",{directives:[{name:"model",rawName:"v-model",value:a.country,expression:"country"}],key:"input-"+t.key,attrs:{id:"hot-toggle-"+t.key,type:"radio",name:"hot_country"},domProps:{value:t.key,checked:a._q(a.country,t.key)},on:{change:function(e){a.country=t.key}}}),a._v(" "),r("label",{key:"label-"+t.key,class:"sitetop-Hot_CountrySwitch_"+t.key,attrs:{for:"hot-toggle-"+t.key}},[r("span")])]}))],2)]),a._v(" "),r("ul",{staticClass:"sitetop-ImagemakerList_List"},a._l(a.currentHot,(function(t){return r("li",{key:t.id},[r("image-maker-square-card",{attrs:{info:t,"page-name":"mypage"}})],1)})),0),a._v(" "),r("picrew-link",{staticClass:"c_btn",attrs:{to:a.localePath({name:"search",query:{s:"jp"==a.country?5:2}})}},[a._v(a._s(a.$t("showMore")))])],1)],1)}),[],!1,null,null,null);e.default=v.exports}}]);