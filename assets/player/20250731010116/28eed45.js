(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{637:function(e,t,a){"use strict";var r=a(0),s=(a(7),a(22),a(15),a(51));t.a={inject:["clearBodyAd"],provide:function(){return{waitLoadAds:this.waitLoadAds}},data:function(){return{appendedTags:null}},watch:{isLoadComplete:function(e){this.isShowLoading&&!e?this.$el.style.visibility="hidden":this.$el.style.visibility="visible"}},beforeMount:function(){this.clearBodyAd()},destroyed:function(){this.removeAppendedTags()},methods:{loadAds:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=1,a.next=4,t.$store.dispatch("ad/load",{page:e});case 4:return t.removeAppendedTags(),a.next=7,s.a.appendToHead(t.$store.getters["ad/headerAds"],e);case 7:t.appendedTags=a.sent,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),t.$errorHandler(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},waitLoadAds:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("ad/waitLoad");case 2:case"end":return t.stop()}}),t)})))()},removeAppendedTags:function(){this.appendedTags&&this.appendedTags.forEach((function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}))}}}},798:function(e,t,a){"use strict";a.r(t);a(33),a(30),a(42),a(7),a(57),a(22),a(58);var r=a(0),s=a(3),n=(a(15),a(25),a(98),a(38)),i=a(637),c=a(11),o=a(296),d=a(300);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={nuxtI18n:!1,mixins:[i.a],inject:["addBodyAd","loadStart","loadComplete","stopCompleteAnimation"],components:{Ad:o.a,ImageMakerListComponent:d.a},validate:function(e){var t=e.query,a=e.$debugMessage,r=/^[a-zA-Z0-9]{10}$/.test(t.cd);return r||a("invalid share cd",{occurrence:"pages/share.vue: validate()",query_cd:t.cd}),r},computed:u(u({},Object(n.d)(["imageMakerId","shareCd","shareImageUrl","imageMakerInfo"])),{},{premiumService:function(){var e=this.imageMakerInfo&&this.imageMakerInfo.premium_service;if(e){var t=Date.now(),a=this.parseDate(e.publish_date),r=this.parseDate(e.close_date);if(a<=t&&!(r<t))return e}return null},premiumServiceImageUrl:function(){return Object(c.e)(this.premiumService.share_banner_image_url)}}),watch:{eventComplete:function(){this.stopCompleteAnimation(null,new Date,500)}},head:function(){return this.$generateMetaInfo({page:"share",ogp:!0})},fetch:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.store,r=e.query,s=e.error,t.prev=2,t.next=5,a.dispatch("loadShare",r.cd);case 5:a.dispatch("showHeader"),a.dispatch("showFooter"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),s(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAds("share");case 2:return t.next=6,e.$localData.isInit();case 6:if(t.sent){t.next=9;break}return t.next=9,e.$localData.init(e.imageMakerId,!1);case 9:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e.waitLoadAds();case 3:e.loadComplete();case 4:case"end":return t.stop()}}),t)})))()},methods:{parseDate:function(e){return e&&Date.parse(e.replace(/-/g,"/"))||null}}},m=a(16),h=Object(m.a)(p,(function(){var e=this,t=e._self._c;return t("div",[t("ad",{attrs:{cd:"share_overlay_pc"}}),e._v(" "),t("ad",{attrs:{cd:"share_overlay_sp"}}),e._v(" "),t("ad",{attrs:{cd:"share_interstitial_pc"}}),e._v(" "),t("ad",{attrs:{cd:"share_interstitial_sp"}}),e._v(" "),t("ad",{attrs:{cd:"share_interstitial_bb_pc"}}),e._v(" "),t("ad",{attrs:{cd:"share_interstitial_bb_sp"}}),e._v(" "),t("ad",{attrs:{cd:"share_header_bottom_pc"}}),e._v(" "),t("ad",{attrs:{cd:"share_header_bottom_sp"}}),e._v(" "),t("div",{staticClass:"share-Main"},[t("div",{staticClass:"share-Main_Message",domProps:{innerHTML:e._s(e.$t("generatedBy",{href:e.localePath({name:"image_maker-id",params:{id:e.imageMakerId}}),title:e.imageMakerInfo.title}))}}),e._v(" "),t("div",{staticClass:"share-Main_Img"},[e.premiumService?t("div",{staticClass:"share-Premium_Banner"},[t("a",{attrs:{href:e.premiumService.share_banner_url,id:"premium-share-link",target:"_blank"}},[t("img",{attrs:{src:e.premiumServiceImageUrl}})])]):e._e(),e._v(" "),t("img",{attrs:{src:e.shareImageUrl,alt:e.$t("imageAlt.completed")}})]),e._v(" "),t("div",{staticClass:"share-Main_Link"},[t("picrew-link",{attrs:{to:e.localePath({name:"image_maker-id",params:{id:e.imageMakerId}})}},[e._v("\n        "+e._s(e.$t("share.playWith",{title:e.imageMakerInfo.title}))+"\n      ")])],1)]),e._v(" "),t("ad",{attrs:{cd:"share_image_bottom_pc"}}),e._v(" "),t("ad",{attrs:{cd:"share_image_bottom_sp"}}),e._v(" "),t("div",{staticClass:"st-Related_Wrapper"},[t("section",{staticClass:"st-Related_Section"},[t("h2",{staticClass:"st-Related_Title"},[t("i",{staticClass:"fa fa-tag",attrs:{"aria-hidden":"true"}}),e._v("\n        "+e._s(e.$t("searchByTagName"))+"\n      ")]),e._v(" "),t("div",{staticClass:"st-Related_Body"},[t("div",{staticClass:"st-Related_Tags"},[e.imageMakerInfo.tags&&e.imageMakerInfo.tags.length>0?e._l(e.imageMakerInfo.tags,(function(a,r){return t("span",{key:r,staticClass:"st-Related_Tag"},[a&&a.tag_name?t("picrew-link",{attrs:{to:e.localePath(e.$store.getters.getSearchUrl(a.tag_name,2))}},[e._v(e._s(a.tag_name))]):e._e()],1)})):t("span",[e._v(e._s(e.$t("searchTagNotSpecified")))])],2)])]),e._v(" "),t("section",{staticClass:"st-Related_Section"},[t("h2",{staticClass:"st-Related_Title"},[t("i",{staticClass:"fa fa-random",attrs:{"aria-hidden":"true"}}),e._v("\n        "+e._s(e.$t("recommendedImageMakers"))+"\n      ")]),e._v(" "),t("div",{staticClass:"st-Related_Body"},[t("div",{attrs:{id:"image-maker-list"}},[t("image-maker-list-component",{attrs:{"page-name":"recommend_list"}})],1)])])]),e._v(" "),t("ad",{attrs:{cd:"share_imlist_bottom_pc"}}),e._v(" "),t("ad",{attrs:{cd:"share_imlist_bottom_sp"}})],1)}),[],!1,null,null,null);t.default=h.exports}}]);